<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Free File Converter – Convert Images & Documents with Quality & Resize Options | ToolHouzz</title>
  <meta name="description" content="Easily convert images and documents between popular formats like PNG, JPG, PDF, and more with our free File Converter. Adjust quality, resize files, and process everything securely in your browser – no uploads required.">
  <link rel="canonical" href="https://toolhouzz.com/file-converter.html">

  <meta property="og:type" content="website">
  <meta property="og:site_name" content="ToolHouzz">
  <meta property="og:title" content="Free File Converter – Images & Documents">
  <meta property="og:description" content="Convert images and documents between formats with quality and resize options. Private, fast, and browser-based.">
  <meta property="og:url" content="https://toolhouzz.com/file-converter.html">
  <meta property="og:image" content="https://toolhouzz.com/assets/og/toolhouzz-og.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Free File Converter – ToolHouzz">
  <meta name="twitter:description" content="Convert images/docs with optional quality and resizing. Works securely in your browser – no uploads needed.">
  <meta name="twitter:image" content="https://toolhouzz.com/assets/og/toolhouzz-og.png">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="th-layout.css" />
  <style>
    .nav-right{gap:14px}

    /* Mobile tweaks */
    @media (max-width: 600px) {
      .grid > .card > div:first-child { grid-template-columns: 1fr !important; gap: 16px; }
      .dropzone p strong, .dropzone button, .dropzone div { font-size: 14px; }
      #list > div, #results > div { grid-template-columns: 64px 1fr; gap: 10px; }
      #list > div button, #results > div button { width: 100%; margin-top: 8px; }
      .dropzone { display:flex; flex-direction:column; align-items:center; }
    }

    /* In-box progress (matches Compress PDF pattern) */
    .dz-progress-wrap{ position:relative; }
    .dz-progress-rail{
      position:absolute; left:12px; right:12px; bottom:12px;
      height:12px; border-radius:999px; overflow:hidden;
      background:#eef2ff; border:1px solid #e0e7ff; display:none;
    }
    .dz-progress-bar{
      height:100%; width:0%;
      background:linear-gradient(90deg, #10b981, #059669);
      transition:width .12s linear;
    }
    .dz-progress-text{
      position:absolute; right:18px; bottom:30px; font-size:12px; font-weight:700; color:#065f46; display:none;
      user-select:none;
    }
    .dz-tag{
      display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #d1fae5;
      background:#ecfdf5; color:#065f46; margin-left:6px;
    }
    .dz-tag.busy{ background:#fff7ed; color:#9a3412; border-color:#ffedd5 }
    .dz-tag.idle{ background:#eef2ff; color:#3730a3; border-color:#e0e7ff }
  </style>
</head>
<body class="theme-light">
  <section class="tool-hero" data-theme="emerald">
    <div class="hero-inner">
      <h1 class="hero-title">Image File Converter</h1>
      <p class="hero-sub">Batch convert to PNG/JPG/WebP with optional resize, quality, and ZIP download.</p>
      <a class="btn primary" href="#tool" style="margin-top:14px">Start</a>
    </div>
  </section>

  <section id="tool" class="tools" style="padding:20px 22px 10px">
    <div class="grid" style="grid-template-columns:1fr;max-width:1000px">
      <div class="card">
        <div style="display:grid;gap:12px;grid-template-columns:repeat(5,1fr)">
          <div>
            <label>Output Format</label>
            <select id="outFmt" class="search" style="height:44px">
              <option value="image/png">PNG (.png)</option>
              <option value="image/jpeg" selected>JPG (.jpg)</option>
              <option value="image/webp">WebP (.webp)</option>
            </select>
          </div>
          <div>
            <label>Quality</label>
            <input id="quality" class="search" type="number" step="0.01" min="0.1" max="1" value="0.92">
            <div style="font-size:12px;color:var(--muted);margin-top:4px">JPG/WebP only</div>
          </div>
          <div>
            <label>Max Side (px)</label>
            <input id="maxSide" class="search" type="number" min="64" placeholder="(keep original)">
            <div style="font-size:12px;color:var(--muted);margin-top:4px">Resizes longest edge</div>
          </div>
          <div>
            <label>JPEG Background</label>
            <input id="bgColor" class="search" type="color" value="#ffffff" style="height:44px;padding:6px">
            <div style="font-size:12px;color:var(--muted);margin-top:4px">Used if JPG (no alpha)</div>
          </div>
          <div>
            <label>Filename Suffix</label>
            <input id="suffix" class="search" value="-converted">
          </div>
        </div>

        <!-- DROPZONE with embedded progress UI -->
        <div id="dropzone" class="dropzone dz-progress-wrap" style="margin-top:14px;border-radius:12px;padding:18px;background:var(--panel);text-align:center; position:relative;">
          <p style="margin:0 0 10px"><strong>Drop images here</strong> or click to select <span id="dzStatus" class="dz-tag idle">Idle</span></p>
          <input id="fileInput" type="file" accept="image/*" multiple style="display:none" />
          <button class="btn" id="browseBtn" type="button">Choose Images</button>

          <div class="dz-progress-rail" id="dzProgRail" aria-hidden="true"><div class="dz-progress-bar" id="dzProgBar"></div></div>
          <div class="dz-progress-text" id="dzProgText">0%</div>

          <div style="font-size:12px;color:var(--muted);margin-top:8px">PNG, JPG, WebP, and more</div>
        </div>

        <div id="list" style="margin-top:14px;display:grid;gap:10px"></div>

        <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap">
          <button class="btn" id="clearBtn" type="button">Clear</button>
          <button class="btn" id="convertBtn" type="button" disabled>Convert All</button>
          <button class="btn" id="downloadAllBtn" type="button" disabled>Download All (.zip)</button>
          <div id="status" style="align-self:center;color:var(--muted)"></div>
        </div>

        <div id="results" style="margin-top:14px;display:grid;gap:10px"></div>
      </div>

      <div class="info-card" style="margin-top:12px">
        <h3>How to use</h3>
        <ol class="tip-list">
          <li>Drop images or click <strong>Choose Images</strong>.</li>
          <li>Pick <em>Output</em> format, <em>Quality</em> (for JPG/WebP), and optional <em>Max Side</em>.</li>
          <li>Click <strong>Convert All</strong>, then download files or a ZIP.</li>
        </ol>
        <h3 style="margin-top:10px">Tips</h3>
        <ul class="tip-list">
          <li><strong>Max Side</strong> resizes the longest edge (keeps aspect).</li>
          <li>JPG has no transparency — choose a background color.</li>
        </ul>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px;margin-top:10px">
          <a class="link-card" href="pdf-to-images.html"><strong>PDF → Images</strong><small>Extract pages</small><span>→</span></a>
          <a class="link-card" href="image-to-pdf.html"><strong>Images → PDF</strong><small>Make a clean, printable PDF</small><span>→</span></a>
          <a class="link-card" href="bmi.html"><strong>BMI</strong><small>See your category instantly</small><span>→</span></a>
        </div>
      </div>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" crossorigin="anonymous"></script>
  <script>
    const $ = id => document.getElementById(id);
    const statusEl = $('status'), list = $('list'), results = $('results');
    const convertBtn = $('convertBtn'), downloadAllBtn = $('downloadAllBtn');
    const state = { items: [] };

    // Progress in dropzone
    const dz = $('dropzone');
    const dzStatus = $('dzStatus');
    const dzProgRail = $('dzProgRail');
    const dzProgBar = $('dzProgBar');
    const dzProgText = $('dzProgText');
    function dzSet(p){ p=Math.max(0,Math.min(100,p|0)); dzProgBar.style.width=p+'%'; dzProgText.textContent=p+'%'; }
    function dzShow(){ dzProgRail.style.display='block'; dzProgText.style.display='block'; dzSet(0); }
    function dzHide(){ dzProgRail.style.display='none'; dzProgText.style.display='none'; dzSet(0); }
    function dzTag(text, state='idle'){
      dzStatus.textContent = text;
      dzStatus.classList.remove('busy','idle');
      dzStatus.classList.add(state==='busy'?'busy':'idle');
    }

    function enableConvert(b){ convertBtn.disabled = !b; }
    function enableZip(b){ downloadAllBtn.disabled = !b; }

    async function getDims(file){
      if (window.createImageBitmap){
        try{
          const bmp = await createImageBitmap(file, { imageOrientation:'from-image' });
          const w=bmp.width,h=bmp.height; bmp.close(); return {w,h};
        }catch{}
      }
      const url = URL.createObjectURL(file);
      const img = new Image();
      const dims = await new Promise((res,rej)=>{ img.onload=()=>res({w:img.naturalWidth,h:img.naturalHeight}); img.onerror=rej; img.src=url; });
      URL.revokeObjectURL(url); return dims;
    }

    function renderList(){
      list.innerHTML = "";
      state.items.forEach((it,i)=>{
        const row = document.createElement('div');
        row.className='list-item';
        row.style.cssText='display:grid;grid-template-columns:64px 1fr auto;gap:10px;align-items:center;padding:8px 10px;border-radius:12px;background:var(--panel)';
        const thumb=document.createElement('img'); thumb.src=it.url; thumb.style.width='64px'; thumb.style.height='64px'; thumb.style.objectFit='cover'; thumb.style.borderRadius='8px';
        const meta=document.createElement('div');
        meta.innerHTML = `<div style="font-weight:600">${it.name}</div><div style="color:var(--muted);font-size:12px">${(it.file.size/1024).toFixed(1)} KB • ${it.w}×${it.h}</div>`;
        const del=document.createElement('button'); del.className='btn'; del.textContent='✕';
        del.onclick=()=>{ URL.revokeObjectURL(it.url); state.items.splice(i,1); renderList(); enableConvert(state.items.length>0); if(state.items.filter(x=>x.converted).length===0) enableZip(false); };
        const acts=document.createElement('div'); acts.append(del);
        row.append(thumb,meta,acts); list.append(row);
      });
      enableConvert(state.items.length>0);
    }

    // File picking
    $('browseBtn').addEventListener('click', e=>{ e.stopPropagation(); $('fileInput').click(); });
    dz.addEventListener('click', e=>{ if(e.target.closest('button')) return; $('fileInput').click(); });

    $('fileInput').addEventListener('change', async e=>{
      const files=[...e.target.files].filter(f=>f.type.startsWith('image/'));
      if(!files.length) return;
      dzShow(); dzTag('Loading…','busy'); statusEl.textContent='Loading images…';
      for (let i=0;i<files.length;i++){
        dzSet(Math.min(95, Math.round(((i)/files.length)*90)+5));
        const f=files[i]; const url=URL.createObjectURL(f); const {w,h}=await getDims(f);
        state.items.push({ file:f, url, name:f.name, w, h });
      }
      dzSet(100); dzTag(`Selected ${state.items.length} image(s)`,'idle'); setTimeout(dzHide,500);
      renderList(); e.target.value="";
    });

    ['dragenter','dragover'].forEach(ev=> dz.addEventListener(ev,e=>{ e.preventDefault(); dz.style.borderColor='var(--border-stronger)'; }));
    ['dragleave','drop'].forEach(ev=> dz.addEventListener(ev,e=>{ e.preventDefault(); dz.style.borderColor='var(--border-strong)'; }));
    dz.addEventListener('drop', async e=>{
      const files=[...e.dataTransfer.files].filter(f=>f.type.startsWith('image/'));
      if(!files.length) return;
      dzShow(); dzTag('Loading…','busy'); statusEl.textContent='Loading images…';
      for (let i=0;i<files.length;i++){
        dzSet(Math.min(95, Math.round(((i)/files.length)*90)+5));
        const f=files[i]; const url=URL.createObjectURL(f); const {w,h}=await getDims(f);
        state.items.push({ file:f, url, name:f.name, w, h });
      }
      dzSet(100); dzTag(`Selected ${state.items.length} image(s)`,'idle'); setTimeout(dzHide,500);
      renderList();
    });

    function targetSize(ow,oh,max){ if(!max||max<=0) return{w:ow,h:oh}; const L=Math.max(ow,oh); if(L<=max) return{w:ow,h:oh}; const s=max/L; return{w:Math.round(ow*s),h:Math.round(oh*s)};}
    function canvasToBlobAsync(canvas, mime, quality){
      return new Promise(resolve=>{
        canvas.toBlob(b=>{ if(b) return resolve(b);
          const dataURL=canvas.toDataURL(mime,quality); const bin=atob(dataURL.split(',')[1]);
          const ab=new ArrayBuffer(bin.length); const ia=new Uint8Array(ab); for(let i=0;i<bin.length;i++) ia[i]=bin.charCodeAt(i);
          resolve(new Blob([ab],{type:mime}));
        }, mime, quality);
      });
    }
    async function convertOne(item, mime, quality, maxSide, bg){
      let bmp=null,img=null; try{ if(window.createImageBitmap) bmp=await createImageBitmap(item.file,{imageOrientation:'from-image'});}catch{}
      if(!bmp){ img=new Image(); img.src=item.url; await new Promise((r,j)=>{ img.onload=r; img.onerror=j; }); }
      const sw=bmp?bmp.width:img.naturalWidth, sh=bmp?bmp.height:img.naturalHeight; const {w,h}=targetSize(sw,sh,maxSide);
      const c=document.createElement('canvas'); c.width=w; c.height=h; const ctx=c.getContext('2d');
      if(mime==='image/jpeg'){ ctx.fillStyle=bg||'#fff'; ctx.fillRect(0,0,w,h); }
      if(bmp){ ctx.drawImage(bmp,0,0,w,h); bmp.close(); } else { ctx.drawImage(img,0,0,w,h); }
      const blob=await canvasToBlobAsync(c,mime,quality); return { blob, w, h };
    }
    function base(name){ const i=name.lastIndexOf('.'); return i>0?name.slice(0,i):name; }
    function extFor(m){ return m==='image/png'?'png':m==='image/webp'?'webp':'jpg'; }

    $('outFmt').addEventListener('change', ()=>{
      const m=$('outFmt').value, lossy=(m==='image/jpeg'||m==='image/webp');
      $('quality').disabled=!lossy; $('bgColor').disabled=(m!=='image/jpeg');
    });
    (function(){ $('outFmt').dispatchEvent(new Event('change')); })();

    $('convertBtn').addEventListener('click', async ()=>{
      if(!state.items.length) return;
      const mime=$('outFmt').value, lossy=(mime==='image/jpeg'||mime==='image/webp');
      const quality=lossy?Math.min(1,Math.max(0.1,parseFloat($('quality').value)||0.92)):1;
      const maxSide=parseInt($('maxSide').value,10); const bg=$('bgColor').value;
      const suffix=( $('suffix').value || '-converted').replace(/[/\\?%*:|"<>]/g,'_') || '-converted';

      results.innerHTML=""; statusEl.textContent="Converting…"; enableZip(false);
      dzShow(); dzTag('Converting…','busy'); dzSet(2);

      let ok=0;
      for(let i=0;i<state.items.length;i++){
        try{
          const it=state.items[i]; const { blob,w,h }=await convertOne(it,mime,quality,maxSide,bg);
          const name = `${base(it.name)}${suffix}.${extFor(mime)}`;
          it.converted={ blob,name,size:blob.size,w,h }; ok++; renderResult(it);
        }catch(e){ console.warn(e); renderResult(state.items[i], true); }
        dzSet(Math.min(90, Math.round(((i+1)/state.items.length)*90)));
        statusEl.textContent=`Converting… ${i+1}/${state.items.length}`;
      }
      statusEl.textContent=`Done. Converted ${ok}/${state.items.length} file(s).`;
      if(ok>0) enableZip(true);
      dzSet(100); dzTag('Ready to download','idle'); setTimeout(dzHide,600);
    });

    function renderResult(item, failed=false){
      const row=document.createElement('div');
      row.className='list-item';
      row.style.cssText='display:grid;grid-template-columns:64px 1fr auto;gap:10px;align-items:center;padding:8px 10px;border-radius:12px;background:var(--panel)';
      const preview=document.createElement('div'); preview.style.width='64px'; preview.style.height='64px'; preview.style.borderRadius='8px'; preview.style.overflow='hidden';

      if(!failed){
        const url=URL.createObjectURL(item.converted.blob); const img=document.createElement('img');
        img.src=url; img.style.width='64px'; img.style.height='64px'; img.style.objectFit='cover'; preview.append(img);
        setTimeout(()=>URL.revokeObjectURL(url),5000);
      } else { preview.textContent='—'; preview.style.textAlign='center'; preview.style.color='var(--muted)'; preview.style.lineHeight='64px'; }

      const meta=document.createElement('div');
      meta.innerHTML = failed
        ? `<div style="font-weight:600">${item.name}</div><div style="color:#c00;font-size:12px">Failed to convert</div>`
        : `<div style="font-weight:600">${item.converted.name}</div><div style="color:var(--muted);font-size:12px">${(item.converted.size/1024).toFixed(1)} KB • ${item.converted.w}×${item.converted.h}</div>`;

      const act=document.createElement('div');
      if(!failed){
        const a=document.createElement('a'); a.className='btn'; a.textContent='Download';
        const url=URL.createObjectURL(item.converted.blob); a.href=url; a.download=item.converted.name;
        a.addEventListener('click', ()=>{ setTimeout(()=>URL.revokeObjectURL(url),2000); dzShow(); dzTag('Downloading…','busy'); dzSet(70); setTimeout(()=>{ dzSet(100); dzTag('Downloaded','idle'); setTimeout(dzHide,600); },400); });
        act.append(a);
      }
      row.append(preview,meta,act); results.append(row);
    }

    $('downloadAllBtn').addEventListener('click', async ()=>{
      const files=state.items.filter(x=>x.converted).map(x=>x.converted); if(!files.length) return;
      dzShow(); dzTag('Packaging ZIP…','busy'); dzSet(40);
      const zip=new JSZip(); for(const f of files) zip.file(f.name, f.blob);
      const blob=await zip.generateAsync({type:'blob'}); dzSet(85);
      const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='converted-images.zip';
      document.body.appendChild(a); a.click(); a.remove(); setTimeout(()=>URL.revokeObjectURL(url),2000);
      dzSet(100); dzTag('ZIP downloaded','idle'); setTimeout(dzHide,600);
    });

    $('clearBtn').addEventListener('click', ()=>{
      state.items.forEach(it=> it.url && URL.revokeObjectURL(it.url));
      state.items=[]; list.innerHTML=""; results.innerHTML=""; statusEl.textContent=""; enableConvert(false); enableZip(false);
      dzShow(); dzTag('Cleared','idle'); dzSet(100); setTimeout(dzHide,500);
    });
  </script>

  <script src="th-layout.js"></script>
</body>
</html>
